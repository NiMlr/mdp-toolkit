
# vim ft=yaml
# travis-ci.org definition for MDP build (based on PyMVPA configuration
# which in turn was based on nipype and nipy)
#
# I would prefer to test against what is in neurodebian
language: python

python:
  - "3.7"
  - "3.8"

env:
  # this is Debian stable (10, codename buster)
  - VERSIONS=1 VNUMPY=1.16.2 VSCIPY=1.1.0 VSKL=0.20.0 VPYTEST=3.10.1
  - VERSIONS=0
  
cache:
  - apt

install:
    - test $VERSIONS -eq 1  && pip install -v numpy==$VNUMPY scipy==$VSCIPY scikit-learn=$VSKL pytest=$VPYTEST pytest-cov coveralls future
    - test $VERSIONS -eq 0  && pip install -v numpy scipy scikit-learn pytest pytest-cov coveralls future
script:
    - pytest --cov-report= --cov-config=.coveragerc --cov=mdp --seed=725021957 mdp
    - pytest --cov-report= --cov-config=.coveragerc --cov=bimdp --cov-append --seed=725021957 bimdp
after_success:
    - coveralls
